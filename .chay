set -o vi
#PS1='\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
showoff-branch(){
    local PS='\u@\h:\w'
    PS=${PS@P}
    local BR=""
    BR=$(git branch --show-current 2>/dev/null) && BR="á›˜"$BR
    printf "\e]0;$PS$BR\a"
}
decolor(){ tput setaf 7;}
color(){ tput setaf $1;}
PS1="$(color 3)\u@\h$(decolor):$(color 2)\w$(decolor)\$ "
export -f showoff-branch
PROMPT_COMMAND=showoff-branch
[ -n "$INSIDE_EMACS" ] && unset PROMPT_COMMAND